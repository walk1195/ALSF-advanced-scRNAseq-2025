"0"," format_auc_df <- function(cell_auc_object) { cell_auc_object@assays@data$AUC |> # start with the internal AUC table"
"0","  # Transpose"
"0","  t() |>"
"0","  # Convert to data frame"
"0","  as.data.frame() |>"
"0","  # Make the barcodes a column"
"0","  tibble::rownames_to_column(""barcodes"") |> "
"0","  # If the barcode is in the list of assigned barcodes, set the value in the"
"0","  # column called tumor_cell to TRUE, and set it to FALSE otherwise"
"0","  dplyr::mutate("
"0","    tumor_cell = barcodes %in% auc_assignments$tumor_marker_genes$assignment"
"0","  )"
"0","}"
"0",""
"0","# Call function"
"0","auc_df <- format_auc_df(cell_auc)"
"0","auc_df_lower <- format_auc_df(cell_auc_lower)"
"0","auc_df_higher <- format_auc_df(cell_auc_higher)"
